<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" class="no-js"> <!--<![endif]-->
  
  
  
  <head profile="http://dublincore.org/documents/dcq-html/">
    <meta charset="utf-8">
    <title>
    
  Working with KML and GeoJSON Files
  
  
    Converting File Formats for Online GPS Services
  
  
  ðŸ›£ FRMX Blog

    </title>
    
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2346536698286309",
    enable_page_level_ads: true
  });
</script>

    
    
    
    <!-- General Metadata (site-wide) -->
    <meta name="description" content="Articles, Reviews, &amp; Explorations for the Motorcycle Excursionist &amp; Non-traditional Adventurer">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="Dragon (Clojure) 0.4.0-SNAPSHOT">

    <!-- Google Metadata -->
    <meta name="google-site-verification" content="w0pQqmlRRJk36_i3se1w2U7qwG8kS_VqiLS2hq5Wk7g" />

    <!-- Dublic Core Metadata (site-wide) -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/">
    <meta name="DC.format" scheme="DCTERMS.IMT" content="text/html">
    <meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text">
    <meta name="DC.coverage" content="2016-2017">
    <meta name="DC.rights" content="Creative Commons Attribution-ShareAlike 4.0 International License">
    <meta name="DC.publisher" content="C&amp;B|Books">
    <meta name="DCTERMS.audience" content="Mototcycle Enthusiasts, Adventurers, Distance Riders, Campers">

    
    
<!-- General Metadata (per-page) -->
<meta name="author" content="bobbermac">

<!-- Dublic Core Metadata (per-page) -->
<meta name="DC.title" lang="en" content="Working with KML and GeoJSON Files">
<meta name="DC.creator" content="bobbermac">
<meta name="DC.subject" content="Software">
<meta name="DC.date" content="2017-07-01">
<meta name="DC.identifier" scheme="DCTERMS.URI" content="http://forgotten.roads.mx/blog/archives/2017-07/01-123850/working-with-kml-and-geojson-files.html">
<meta name="DCTERMS.abstract" content="Converting File Formats for Online GPS Services">

<!-- Facebook's OpenGraph Metadata -->
<meta property="og:site_name" content="Forgotten Roads MX">
<meta property="og:title" content="Working with KML and GeoJSON Files">
<meta property="og:url" content="http://forgotten.roads.mx/blog/archives/2017-07/01-123850/working-with-kml-and-geojson-files.html">
<meta property="og:type" content="blog">
<meta property="og:description" content="Converting File Formats for Online GPS Services">
<meta property="og:image" content="http://forgotten.roads.mx/blog/img/gis-beartooth-topo.jpg">
<meta property="article:author" content="bobbermac">
<meta property="article:published_time" content="2017-07-01 12:38:50">
<meta property="article:modified_time" content="2017-11-19 15:59:45">
<meta property="og:updated_time" content="2017-11-19 15:59:45">
<meta property="article:section" content="Software">
<meta property="article:tag" content="data">
<meta property="article:tag" content="formats">
<meta property="article:tag" content="gis">
<meta property="article:tag" content="howtos">
<meta property="article:tag" content="json">
<meta property="article:tag" content="kml">
<meta property="article:tag" content="services">
<meta property="article:tag" content="technical">


<!-- Twitter Card Metadata -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site:id" content="@ForgottenRdsMX">
<meta name="twitter:creator:id" content="@bobbermacean">
<meta name="twitter:title" content="Working with KML and GeoJSON Files">
<meta name="twitter:url" content="http://forgotten.roads.mx/blog/archives/2017-07/01-123850/working-with-kml-and-geojson-files.html">
<meta name="twitter:description" content="<p>As anyone familiar (not me) with geographic information systems (or "GIS") data can tell you, working with the multitude of data formats, versions of those ...</p>">
<meta name="twitter:image" content="http://forgotten.roads.mx/blog/img/gis-beartooth-topo.jpg">

    
    

    <link rel="alternate" type="application/atom+xml" title="Feed" href="/blog/atom.xml" />
    
    <link rel="stylesheet" href="/blog/assets/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/blog/assets/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/blog/assets/font-awesome/css/font-awesome.min.css">

    <link href="https://fonts.googleapis.com/css?family=Maitree&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Yantramanav&amp;subset=latin-ext"
          rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="/blog/css/styles.css" id="theme-styles">
    <!-- Favicon Setup /-->
    <link rel="apple-touch-icon" sizes="180x180" href="/blog/icons/apple-touch-icon.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog/icons/favicon-32x32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="/blog/icons/favicon-16x16.png?v=3">
    <link rel="manifest" href="/blog/icons/manifest.json?v=3">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg?v=3" color="#5bbad5">
    <link rel="shortcut icon" href="/blog/icons/favicon.ico?v=3">
    <meta name="apple-mobile-web-app-title" content="FRMX">
    <meta name="application-name" content="FRMX">
    <meta name="msapplication-config" content="/blog/icons/browserconfig.xml?v=3">
    <meta name="theme-color" content="#ffffff">
    
    
    
    <!--[if lt IE 9]>
        <script src="assets/respond/html5-3.6-respond-1.1.0.min.js"></script>
    <![endif]-->
    <script
        src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-101039165-2', 'auto');
      ga('send', 'pageview');
    </script>
    
    
 

  </head>
  
  <body>
  
   
    <header class="tiny">
      
<div class="widewrapper masthead">
  <div class="container">
    <a href="/blog/" id="logo">
    
      <img src="/blog/img/logo-5-long-small.png" alt="Forgotten Roads Blog">
      
      
      
    
    </a>

    <div id="mobile-nav-toggle" class="pull-right">
      <a href="#" data-toggle="collapse" data-target=".tales-nav .navbar-collapse">
        <i class="fa fa-bars"></i>
      </a>
    </div>

    <nav class="pull-right tales-nav">
      <div class="collapse navbar-collapse">
        <ul class="nav nav-pills navbar-nav navbar-right">

          <li class="">
            <a href="/blog/">Home</a>
          </li>
          <li class="active">
            <a href="/blog/archives/">Archives</a>
          </li>
          <li class="">
            <a href="/blog/categories/">Categories</a>
          </li>
          <li class="">
            <a href="/blog/tags/">Tags</a>
          </li>
          <li class="">
            <a href="/blog/authors/">Authors</a>
          </li>
          <li class="dropdown ">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="/blog/about.html">About FRMX</a></li>
              <li><a href="/blog/contact.html">Contact Us</a></li>
              <li><a href="/blog/powered-by.html">Powered By</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="/blog/license.html">Content License</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="/blog/privacy.html">Privacy Policy</a></li>
              <li><a href="/blog/disclosure.html">Disclosure Policy</a></li>
            </ul>
          </li>

        </ul>
      </div>
    </nav>

  </div>
</div>

<div class="widewrapper subheader">
  <div class="container">
    
    <div class="sidebar-module sidebar-module-inset">
      <ul class="social">
        <li>
          <a href="/blog/atom.xml" alt="Atom Feed">
            <i class="fa fa-feed first"></i>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/forgottenrdsmx" alt="Twitter">
            <i class="fa fa-twitter"></i>
          </a>
        </li>
        <!-- Facebook is being a pain: repeatedly asking for me to
             upload a picture of myself in order to login. I don't
             need that sort of grief ... -->
        <!-- <li>
          <a href="https://www.facebook.com/forgottenroadsmx/" alt="Facebook">
            <i class="fa fa-facebook"></i>
          </a>
        </li> -->
        <li>
          <a href="/googleplus" alt="Google+">
            <i class="fa fa-google-plus"></i>
          </a>
        </li>
        <li>
          <a href="https://www.flickr.com/photos/forgottenroadsmx/" alt="Flickr">
            <i class="fa fa-flickr"></i>
          </a>
        </li>
        <li>
          <a href="/youtube" alt="YouTube">
            <i class="fa fa-youtube"></i>
          </a>
        </li>
        <li>
          <a href="http://github.com/forgotten-roads" alt="Github">
            <i class="fa fa-github"></i>
          </a>
        </li>

        <li>
          <a href="https://groups.google.com/forum/#!forum/frmx-new-posts"
             alt="Email Notifications">
            <i class="fa fa-envelope"></i>
          </a>
        </li>

      </ul>
    </div>
    
  </div>
</div>

    </header>
    
    
    <main id="main-content">
      
    <div class="container">
      <div class="page-header" id="banner">

      <div class="row">
        <div class="col-sm-8 blog-main">

          <div class="blog-post">
            <div class="page-header">
              
                <img src="/blog/img/gis-beartooth-topo.jpg" />
              
              <h2 class="blog-post-title">Working with KML and GeoJSON Files</h2>
              
              <h3 class="blog-post-subtitle">Converting File Formats for Online GPS Services</h3>
              
              <div class="blog-post-meta">
                <p class="date">July
                                01,
                                2017</p>
                <p class="author">by <a href="/blog/authors/#bobbermac">bobbermac</a></p>
                
              </div>
            </div>
            <p>As anyone familiar (not me) with geographic information systems (or "GIS") data can tell you, working with the multitude of data formats, versions of those formats, data entry errors, and inconsistencies, makes GIS data processing a pretty time-consuming task. We've just tried to do very simple things, and it has taken us a few days to get things sorted.</p><p>Right now at Forgotten Roads, we're evaluating software and data services for use in motorcycle adventure trips. We think we've got a good selection, at least for a first run or two. But before we go into any details on that, we wanted to provide a prelude blog post that can be a head-start for the eager reader and something that we can reference in later posts.</p><p>Below we'll give a super-quick overview of the main geospatial file formats used by mapping and routes services, and then show you how to work with these files (something that will be very useful when you want to start doing interesting things with your ride routes).</p><h3>File Formats</h3><h4>KML</h4><p>Thanks to Google's ubiquity in so much of the tech world, <code>.kml</code> files (KML stands for "Keyhole Markup Language") are quite popular. <a href='https://en.wikipedia.org/wiki/Keyhole_Markup_Language'>KML</a> is a type of <a href='https://en.wikipedia.org/wiki/XML'>XML</a> developed by the company Keyhole, Inc., which specialized in geospatial visualization software. Google bought them in 2004 and turned their product "Earth Viewer" into "Google Earth".</p><p>There are several versions of this markup language:</p><ul><li>Version 2.1 - The last one produced by Google &ndash; this version is still widely used</li><li>Version 2.2 - The first KML version that was submitted to the   <a href='https://en.wikipedia.org/wiki/Open_Geospatial_Consortium'>Open Geospatial Consortium</a> (OGC) in 2007</li><li>2.3 - Published by the OGC in 2015</li></ul><p>Most of what we see is still version 2.1.</p><p>Really, the thing you need to know about KML is that, among the many, many things that it does, it can specify "traces" or "tracks" (very simple geospatial data, sometimes as little as just latitude and longitude values). The visual routes you see on mapping services like "Google Maps" can be represented in KML files that have this simple data.</p><h4>GeoJSON</h4><p>With the increasing popularity of KML in the mid-2000s, the nearly industry-wide distaste for XML, and rapidly growing adoption of JSON as a preferred human-readable data representation format, a working group for a <a href='https://en.wikipedia.org/wiki/JSON'>JSON</a>-based geospatial data format was begun in 2007. This gave the world GeoJSON. Then, in 2015, a working group was founded at the <a href='https://en.wikipedia.org/wiki/Internet_Engineering_Task_Force'>IETF</a> for GeoJSON, which led to an <a href='https://tools.ietf.org/html/rfc7946'>RFC</a>.</p><p>We've been using this format a fair amount, too &ndash; not directly, but because other tools or services we are using work with it.</p><h4>GPX</h4><p>The last format we'll mention is <a href='https://en.wikipedia.org/wiki/GPS_Exchange_Format'>GPX</a>. We're not making use of any data in this format, but would remiss if we didn't mention it.</p><p>Based upon XML, it was created around the same times as KML and stands for "GPS Exchange Format". In continues to enjoy a great deal of popularity.</p><h3>Converting</h3><p>Okay, now that we have that boring stuff out of the way, we can talk about MORE BORING STUFF! How do I move from one to the other?</p><h4>Validating KML</h4><p>The first thing to keep in mind is that you may download a KML file from a service that has not provided the data fully to spec. Or they may be using an ever older version (and calling it a newer version). This is something that you can check, if you find that services are not letting you upload these KML files.</p><p>For instance, if you download a KML file, open it up and check the version number. You should see a line near the top something like the following:</p><pre><code>&lt;kml xmlns=&quot;http://earth.google.com/kml/2.1&quot;&gt;
</code></pre><p>The version number is there at the end. KML is an XML format, and XML file formats are defined with schemas. A quick internet search or two turns up the location for the KML version 2.1 schema here:</p><ul><li><a href='https://developers.google.com/kml/schema/kml21.xsd'>https://developers.google.com/kml/schema/kml21.xsd</a>.</li></ul><p> (Here are versions <a href='http://schemas.opengis.net/kml/2.2.0/ogckml22.xsd'>2.2</a> and <a href='http://schemas.opengis.net/kml/2.3/ogckml23.xsd'>2.3</a>).</p><p>We'll use a command-line tool running in a terminal window for this next bit. The command we'll run is <code>xmllint</code>. If you have a recent version of Mac OS X with developer tools installed, <code>xmllint</code> will already be on  your machine. If you are running something like Ubuntu, you may already have <code>libxml2-utils</code> installed (which includes <code>xmllint</code>). Here's how you check that the formatting of the KML file is correct:</p><pre><code>$ xmllint --schema &#126;/Downloads/kml21.xsd &#126;/Downloads/track.kml
</code></pre><p>We downloaded a KML file from <a href='https://spotwalla.com/'>SpotWalla</a> and found that this command failed on that file. We had to open it up and change a line from this:</p><pre><code>&lt;altitudeMode&gt;relative&lt;/altitudeMode&gt;
</code></pre><p>to this:</p><pre><code>&lt;altitudeMode&gt;relativeToGround&lt;/altitudeMode&gt;
</code></pre><h4>KML -> GeoJSON</h4><p>Probably the easiest way to convert a KML file you have downloaded to GeoJSON is to upload it to the "MyGeodata Converter" service:</p><ul><li><a href='https://mygeodata.cloud/converter/kml-to-geojson'>https://mygeodata.cloud/converter/kml-to-geojson</a></li></ul><p>Simply browse for your file when you hit the button, then hit "Continue". Once your file uploads, you'll be asked to set any options (the defaults are fine for most cases; we haven't needed to adjust them yet). Then hit the "Convert now!" button, and a <code>.zip</code> file will download, which you can open up and extract your new <code>.geojson</code> file.</p><p>The same site offers <a href='https://mygeodata.cloud/converter/geojson-to-gpx'>a GPX converter</a>, should you need that.</p><h3>Other Tools</h3><p>We've tried each of the following other tools but they either didn't work for our files or the functionality provided was not quite what we needed. However, they do seem to have a good user following and may be useful for you, so we'll share some links:</p><ul><li><a href='http://merkaartor.be/'>Merkaartor</a> - a mapping program that can be used with  <a href='https://en.wikipedia.org/wiki/OpenStreetMap'>OpenStreetMap</a>; it offers some  import capabilities</li><li><a href='https://www.google.com/earth/download/gep/agree.html'>Google Earth Pro</a> -  Google now provides the "pro" version of their Google Earth software for  free. This is now considered an outdated version; the supported one is the  new Chrome-only Google Earth 9 (released in 2017).</li><li><a href='http://www.gpsvisualizer.com/map_input?form=googleearth'>GPS Visualizer</a> -  only used it once, but it seems pretty good.</li><li>KMLCSV - maybe we were doing it wrong, but I wouldn't even bother with this  one ...</li></ul><h3>Next Up</h3><p>Before too long, you should be seeing another FRMX post about how we use the services that use KML and GeoJSON ... ! &#x1F6E3;</p>
            
            
          </div>

          
          <div class="row">
            <div class="col-xs-6">
              
              <a href="/blog/archives/2017-06/29-115623/beartooth-run-fargo-h-o-g-.html">
                <i class="fa fa-arrow-circle-o-left fa-2x"
                   aria-hidden="true"></i>
              </a>
              
            </div>

            <div class="col-xs-6 text-right">
              
              <a href="/blog/archives/2017-07/06-193659/beartooth-run-2017.html">
                <i class="fa fa-arrow-circle-o-right fa-2x"
                   aria-hidden="true"></i>
              </a>
              
            </div>
          </div>
          <div class="row">
            <div class="col-xs-6">Previous Post</div>
            <div class="col-xs-6 text-right">Next Post</div>
          </div>
          

        </div>

        <aside class="col-sm-4 blog-aside">

          <div class="aside-widget">
            <header>
              <h3>Category</h3>
            </header>
            <div class="body">
              <p>
                <a href="/blog/categories/#Software">Software</a>
              </p>
            </div>
          </div>

          <div class="aside-widget tags-widget">
            <header>
              <h3>Tags</h3>
            </header>
            <div class="body">
              <ul>
                
                <li>
                  <a href="/blog/tags/#data">data</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#formats">formats</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#gis">gis</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#howtos">howtos</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#json">json</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#kml">kml</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#services">services</a>
                </li>
                
                <li>
                  <a href="/blog/tags/#technical">technical</a>
                </li>
                
              </ul>
            </div>
          </div>

          

            <div class="row">
              <div class="col-xs-6">

              </div>
            </div>



          <div class="aside-widget">
            <header>
              <h3>Neighboring Posts</h3>
            </header>
            <div class="body">
              <div class="row">
                <div class="col-xs-6">Previous</div>
                <div class="col-xs-6">Next</div>
              </div>
              <div class="row">
                <div class="col-xs-6">
                  
                  <a href="/blog/archives/2017-06/29-115623/beartooth-run-fargo-h-o-g-.html">
                    <i class="fa fa-arrow-circle-o-left fa-2x"
                       aria-hidden="true"></i>
                  </a>
                  
                </div>
                <div class="col-xs-6">
                  
                  <a href="/blog/archives/2017-07/06-193659/beartooth-run-2017.html">
                    <i class="fa fa-arrow-circle-o-right fa-2x"
                       aria-hidden="true"></i>
                  </a>
                  
                </div>
              </div>
            </div>
          </div>

          <div class="aside-widget">
            <header>
              <h3>Post Data</h3>
            </header>
            <div class="body">
              <p>Lines: 121</p>
              <p>Words: 1047</p>
              <p>Characters: 6748</p>
              </p>
            </div>
          </div>

        </aside>

      </div>

    </div>
    </div>

    </main>
    
    
    <footer>
      
<div class="widewrapper footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4 footer-widget">
        <h3> <i class="fa fa-wpforms"></i>Statistics</h3>

        <span>For the geeks that track this sort of thing
        (just for the posts themselves, not the other content):</span>

        <div class="stats">
          <div class="line">
            <span class="counter">3</span>
            <span class="caption">Authors</span>
          </div>
          <div class="line">
            <span class="counter">32</span>
            <span class="caption">Articles</span>
          </div>
          <div class="line">
            <span class="counter">3148</span>
            <span class="caption">Lines</span>
          </div>
          <div class="line">
            <span class="counter">25013</span>
            <span class="caption">Words</span>
          </div>
          <div class="line">
            <span class="counter">172899</span>
            <span class="caption">Characters</span>
          </div>
        </div>

      </div>

      <div class="col-md-4 footer-widget">
        <h3> <i class="fa fa-star"></i> Great Resources</h3>
        <ul class="tales-list">
          <li><a href="https://www.fhwa.dot.gov/byways">Scenic Byways in the US</a></li>
          <li><a href="https://www.nps.gov/index.htm">National Park Service</a></li>
          <li><a href="https://matadornetwork.com/read/mapped-optimal-road-trip-see-us-national-parks/">Optimal Roadtrip Route for All-Lower-48 National Parks</a></li>
          <li><a href="http://www.ironbutt.com/">Iron Butt Association</a></li>
          <li>
            <a href="https://www.revzilla.com/common-tread/motorcycle-camping-the-basics">RevZilla's Motorcycle Camping</a> &amp;
            <a href="http://www.motorcyclecruiser.com/tips-for-motorcycle-camping">Cruiser's Tips for Motorcycle Camping</a>
          </li>
        </ul>
      </div>

      <div class="col-md-4 footer-widget">
        <h3> <i class="fa fa-envelope"></i>Reach Out</h3>

        <span>We're happy to hear from readers: thoughts, feedback,
        content suggestions - all welcome! Drop us a line:</span>

        <span class="email">
          <a href="mailto:blog@forgotten.roads.mx">blog@forgotten.roads.mx</a>
        </span>
      </div>
    </div>
  </div>
</div>
<div class="widewrapper copyright">
  <div class="container">
    &copy; 2016-2017, C&amp;B|Books &middot;
    designed by <a href="http://hackerthemes.com" rel="nofollow">HackerThemes</a> and
    <a href="http://forgotten.roads.mx">Forgotten Roads MX</a>
    <span style="float: right">
      <a href="/blog/about.html">About</a>
      &middot;
      <a href="/blog/contact.html">Contact</a>
      |
      <a href="/blog/license.html">License</a>
      |
      <a href="/blog/privacy.html">Privacy</a>
      &middot;
      <a href="/blog/disclosure.html">Disclosure</a>
    </span>
  </div>

</div>

    </footer>
    
    
    <script src="/blog/assets/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/blog/assets/modernizr/modernizr-custom.js"></script>

    
  
  </body>
</html>
